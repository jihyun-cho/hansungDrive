<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="common">


    <!-- 주소검색 카운트-->
    <select id="searchAddrCnt" parameterClass="HashMap" resultClass="String">
        SELECT COUNT(*) CNT
          FROM MDM_ADDR
        <isNotEmpty property="searchAddr">
         WHERE FULL_DONG_NM LIKE CONCAT( '%' , #searchAddr# , '%')    
        </isNotEmpty>
         
    </select>

    <!-- 주소검색 리스트-->
    <select id="searchAddrList" parameterClass="HashMap" resultClass="HashMap">
        SELECT HDONG_CD , HDONG_NM , FULL_DONG_NM , GUGUN_CD, GUGUN_NM , SIDO_CD, SIDO_NM
           FROM MDM_ADDR
        <isNotEmpty property="searchAddr">
         WHERE FULL_DONG_NM LIKE CONCAT( '%' , #searchAddr# , '%')    
        </isNotEmpty>
    </select>

    
    <!-- 요율구분 리스트 -->
    <select id="getCM035List" parameterClass="HashMap" resultClass="HashMap">
        SELECT CD , CD_NM
          FROM MDM_MC_CODE
         WHERE CD_TCD = 'CM035'
           AND DEL_YN = 'N'
         ORDER BY CD_ORDB
    </select>
     
     <!-- 차량종류 -->
     <select id="getCM038List" parameterClass="HashMap" resultClass="HashMap">
        SELECT CD
             , CD_NM 
          FROM TMS.MDM_MC_CODE 
         WHERE CD_TCD = 'CM038' 
           AND DEL_YN = 'N' 
        ORDER BY CD_ORDB
    </select>
     

     <!-- 차량톤수 -->
     <select id="getCM039List" parameterClass="HashMap" resultClass="HashMap">
        SELECT CD
             , CD_NM 
          FROM TMS.MDM_MC_CODE 
         WHERE CD_TCD = 'CM039' 
           AND DEL_YN = 'N' 
         ORDER BY CD_ORDB
    </select>


    <!-- 고객조회 CNT -->
    <select id="getCustomerListCnt" parameterClass="HashMap" resultClass="String">
        SELECT COUNT(*) AS CNT
          FROM TMS.MDM_SHPR_INFO 
         WHERE DEL_YN = 'N'
        <isNotEmpty property="SHPR_NM">
           AND SHPR_NM LIKE CONCAT('%', #SHPR_NM#, '%')
        </isNotEmpty>         
    
    </select>
    
    <!-- 고객조회 -->
     <select id="getCustomerList" parameterClass="HashMap" resultClass="HashMap">
        SELECT SHPR_ID
             , SHPR_NM 
             , '' AS C_TEL
             , '' AS C_EMAIL
             , '' AS C_PRSNT_NM
             , '' AS C_ADDR
          FROM TMS.MDM_SHPR_INFO 
         WHERE DEL_YN = 'N'
        <isNotEmpty property="SHPR_NM">
           AND SHPR_NM LIKE CONCAT('%', #SHPR_NM#, '%')
        </isNotEmpty>         
         ORDER BY SHPR_NM 
    </select>
    
               
</sqlMap>

